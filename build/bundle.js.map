{"version":3,"sources":["webpack:///./app/redux/constants/match.js","webpack:///./app/redux/constants/playlist.js","webpack:///./app/redux/constants/searching.js","webpack:///./app/redux/constants/user.js","webpack:///./app/redux/store.js","webpack:///./app/js/schwifty.js","webpack:///./app/config/localforage.js","webpack:///./app/config/spotify.js","webpack:///./app/js/hashParams.js","webpack:///./app/js/time.js","webpack:///./app/redux/actions/dom.js","webpack:///./app/redux/actions/match.js","webpack:///./app/redux/actions/playlist.js","webpack:///./app/redux/actions/search.js","webpack:///./app/redux/actions/searching.js","webpack:///./app/redux/actions/user.js","webpack:///./app/redux/reducers/match.js","webpack:///./app/redux/reducers/playlist.js","webpack:///./app/redux/reducers/searching.js","webpack:///./app/redux/reducers/user.js","webpack:///./~/normalize.css/normalize.css","webpack:///./~/notie/dist/notie.min.css","webpack:///./app/sass/schwifty.scss"],"names":["MATCH","module","exports","PLAYLIST_ADD","PLAYLIST_REMOVE","PLAYLIST_EDIT","SEARCHING","ME","TOKEN","store","searching","user","playlist","match","token","me","window","devToolsExtension","subscribe","dispatch","then","document","querySelector","setAttribute","addEventListener","e","preventDefault","value","matches","length","type","text","innerHTML","map","m","album","images","url","name","artists","artist","join","explicit","duration_ms","targets","translateY","delay","el","i","err","currentMatch","getState","submitText","cancelText","minlength","placeholder","console","error","submitCallback","config","NAME","STORE_NAME","DESCRIPTION","LF_STORE","storeName","description","CLIENT_ID","REDIRECT_URI","SCOPE","hash","hashParams","regX","query","substring","exec","decodeURIComponent","duration","minutes","Math","floor","seconds","showElement","easing","Promise","resolve","complete","hideElement","opacity","payload","add","asyncAdd","tracks","reject","fetch","id","method","headers","Authorization","token_type","access_token","body","JSON","stringify","response","json","Object","prototype","hasOwnProperty","call","uris","track","uri","schwifty","remove","asyncRemove","removeIndex","forEach","p","index","edit","asyncEdit","editItem","search","q","words","replace","split","term","trim","all","word","encodeURIComponent","results","filter","result","starterTracks","items","toLowerCase","startsWith","log","includeTracks","includes","fullMatchs","starterIncludeList","fullMatch","crissCross","list","Array","isArray","wordPrevious","wordNext","previous","self","next","crissCrossSorted","reverse","sortBy","item","final","nextItem","undefined","asyncSearching","querySelectorAll","removeAttribute","userToken","userMe","authorizeSpotify","state","Date","now","location","logout","clear","origin","asyncUserIsLoggedIn","HASH_PARAMS","moi","setItem","removeItem","lfToken","warn","getItem","reducer","action","assign","slice"],"mappings":"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","file":"bundle.js","sourcesContent":["const MATCH = 'MATCH';\n\nmodule.exports = {\n  MATCH,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/constants/match.js","const PLAYLIST_ADD = 'PLAYLIST_ADD';\nconst PLAYLIST_REMOVE = 'PLAYLIST_REMOVE';\nconst PLAYLIST_EDIT = 'PLAYLIST_EDIT';\n\nmodule.exports = {\n  PLAYLIST_ADD,\n  PLAYLIST_REMOVE,\n  PLAYLIST_EDIT,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/constants/playlist.js","const SEARCHING = 'SEARCHING';\n\nmodule.exports = {\n  SEARCHING,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/constants/searching.js","const ME = 'ME';\nconst TOKEN = 'TOKEN';\n\nmodule.exports = {\n  ME,\n  TOKEN,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/constants/user.js","/* global window */\n\nimport { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport playlist from 'App/redux/reducers/playlist.js';\nimport match from 'App/redux/reducers/match.js';\nimport user from 'App/redux/reducers/user.js';\nimport searching from 'App/redux/reducers/searching.js';\n\nconst store = createStore(\n  combineReducers({ searching, user, playlist, match }),\n  { user: { token: null, me: null }, searching: false, playlist: [], match: [] },\n  window.devToolsExtension\n    ? compose(applyMiddleware(thunk), window.devToolsExtension())\n    : applyMiddleware(thunk),\n);\n\nmodule.exports = store;\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/store.js","/* eslint no-console: 0 */\n/* global window, document, localforage, fetch */\nimport 'notie/dist/notie.min.css';\nimport 'normalize.css';\n\nimport anime from 'animejs';\nimport { alert, confirm, input } from 'notie';\n\nimport 'App/sass/schwifty.scss';\nimport store from 'App/redux/store.js';\n\nimport { showElement } from 'App/redux/actions/dom';\nimport { search } from 'App/redux/actions/search';\nimport { asyncUserIsLoggedIn, authorizeSpotify, logout } from 'App/redux/actions/user';\nimport { match } from 'App/redux/actions/match';\nimport { asyncAdd } from 'App/redux/actions/playlist';\nimport time from 'App/js/time';\n\nstore.subscribe(() => {\n});\n\nstore\n  .dispatch(asyncUserIsLoggedIn())\n  .then(() => {\n    showElement('#profile');\n  }, () => {\n    document.querySelector('#search-button').setAttribute('disabled', 'disabled');\n    showElement('#login-container');\n  });\n\ndocument.querySelector('#search-form').addEventListener('submit', async (e) => {\n  e.preventDefault();\n  search(document.querySelector('#search-input').value).then((matches) => {\n    if (matches.length === 0) {\n      alert({\n        type: 'neutral',\n        text: \"That's deep - I can't do that\",\n      });\n      return;\n    }\n\n    store.dispatch(match(matches));\n\n    document.querySelector('#schwifty-411').innerHTML = `Schwifty got <b>${matches.length}</b> track${matches.length > 1 ? 's' : ''}`;\n    document.querySelector('.match').innerHTML = `<div class=\"track-list\">${matches.map(m => `<div class=\"track\" style=\"transform: translateY(100vh);\">\n      <div class=\"track__image\">\n        <img src=\"${m.album.images[1] ? m.album.images[1].url : 'app/static/placeholder.png'}\" />\n      </div>\n\n      <div class=\"track__info\">\n        <div class=\"ashamed\">\n          <p class=\"track__name\" class=\"text-white\">${m.name}</p>\n          <span class=\"track__artist text-mute\">${m.artists.map(artist => artist.name).join(', ')}</span>\n        </div>\n      </div>\n\n      <div class=\"ashamed-two-times\">\n        ${m.explicit ? '<span class=\"track__explicit\">E</span>' : ''}\n        <div class=\"track__duration text-mute\">${time(m.duration_ms)}</div>\n      </div>\n    </div>`).join('')}</div>`;\n\n    anime({\n      targets: '.track-list .track',\n      translateY: ['100vh', '0vh'],\n      delay: (el, i) => i * 100,\n    });\n  }, (err) => {\n    alert({\n      type: 'error',\n      text: err,\n    });\n  });\n}, false);\n\ndocument.querySelector('#login').addEventListener('click', () => {\n  authorizeSpotify();\n}, false);\n\ndocument.querySelector('#create-playlist').addEventListener('click', () => {\n  const currentMatch = store.getState().match;\n\n  if (currentMatch.length === 0) {\n    alert({\n      type: 'warning',\n      text: \"I can't create an empty playlist. You're being very un-Schwifty 😒\",\n    });\n\n    return;\n  }\n\n  input({\n    text: 'Playlist Name',\n    submitText: 'Create Playlist',\n    cancelText: 'Not Today',\n    minlength: '3',\n    placeholder: 'To: Future-X',\n  }, (value) => {\n    if (value.length === 0) {\n      alert({\n        type: 'info',\n        text: 'ABORTED!',\n      });\n\n      return;\n    }\n\n    store\n      .dispatch(asyncAdd(value, store.getState().match))\n      .then(() => {\n        alert({\n          type: 'success',\n          text: `Playlist <b>${value}</b> has been created`,\n        });\n      }, (err) => {\n        alert({\n          type: 'error',\n          text: 'Unable to create the playlist 😔',\n        });\n\n        console.error('DAMN IT!', err);\n      });\n  });\n}, false);\n\ndocument.querySelector('#logout').addEventListener('click', () => {\n  confirm({\n    text: 'Logout?',\n    submitCallback() {\n      logout();\n    },\n  });\n}, false);\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/schwifty.js","import localforage from 'localforage';\n\nconst config = {\n  NAME: 'Schwifty',\n  STORE_NAME: 'schwifty',\n  DESCRIPTION: 'Get Schwifty!',\n  LF_STORE: {\n    TOKEN: 'TOKEN',\n    ME: 'ME',\n  },\n};\n\nlocalforage.config({\n  name: config.NAME,\n  storeName: config.STORE_NAME,\n  description: config.DESCRIPTION,\n});\n\nmodule.exports = config;\n\n\n\n// WEBPACK FOOTER //\n// ./app/config/localforage.js","const CLIENT_ID = '8ad7a6f78ef9487a92183ea076446e27';\nconst REDIRECT_URI = 'http://localhost:8080/';\nconst SCOPE = 'playlist-modify-public';\n\nmodule.exports = {\n  CLIENT_ID,\n  REDIRECT_URI,\n  SCOPE,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/config/spotify.js","export default (hash = '') => {\n  const hashParams = {};\n  const regX = /([^&;=]+)=?([^&;]*)/g;\n  const query = hash.substring(1);\n  let e = false;\n\n  while (e = regX.exec(query)) {\n    hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n\n  return hashParams;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/hashParams.js","/**\n * given song duration in miliseconds\n * returns minute and second\n *\n * @type {Object}\n */\nmodule.exports = (duration = 0) => {\n  const minutes = Math.floor(duration / 60000);\n  const seconds = Math.floor((duration - (minutes * 60000)) / 1000);\n\n  return `${minutes}:${seconds < 10 ? `0${seconds}` : seconds}`;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/js/time.js","import anime from 'animejs';\n\nfunction showElement(targets, duration = 1000, easing = 'easeOutElastic') {\n  return new Promise((resolve) => {\n    anime({\n      targets,\n      translateY: ['100vh', '0vh'],\n      duration,\n      easing,\n      complete() {\n        resolve();\n      },\n    });\n  });\n}\n\nfunction hideElement(targets, duration = 1000, easing = 'easeInElastic') {\n  return new Promise((resolve) => {\n    anime({\n      targets,\n      opacity: 0,\n      duration,\n      complete() {\n        resolve();\n        anime({\n          targets,\n          duration: 0,\n          translateY: ['0vh', '100vh'],\n          easing,\n        });\n      },\n    });\n  });\n}\n\nmodule.exports = {\n  showElement,\n  hideElement,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/dom.js","import { MATCH } from 'App/redux/constants/match';\n\nfunction match(payload) {\n  return {\n    type: MATCH,\n    payload,\n  };\n}\n\nmodule.exports = {\n  match,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/match.js","/* global fetch */\n/* eslint no-console: 0 */\n\nimport { PLAYLIST_ADD, PLAYLIST_REMOVE, PLAYLIST_EDIT } from 'App/redux/constants/playlist';\n\nfunction add(payload) {\n  return {\n    type: PLAYLIST_ADD,\n    payload,\n  };\n}\n\nfunction asyncAdd(name, tracks) {\n  return (dispatch, getState) => new Promise((resolve, reject) => {\n    const { user } = getState();\n\n    fetch(`https://api.spotify.com/v1/users/${user.me.id}/playlists`, {\n      method: 'POST',\n      headers: {\n        Authorization: `${user.token.token_type} ${user.token.access_token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        description: 'Made by Schwifty',\n      }),\n    }).then(response => response.json()).then((playlist) => {\n      if (Object.prototype.hasOwnProperty.call(playlist, 'error')) {\n        reject(\"For some reason Spotify doesn't like the word 'the'\");\n        return;\n      }\n\n      fetch(`https://api.spotify.com/v1/users/${user.me.id}/playlists/${playlist.id}/tracks`, {\n        method: 'POST',\n        headers: {\n          Authorization: `${user.token.token_type} ${user.token.access_token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          uris: tracks.map(track => track.uri),\n        }),\n      }).then(response => response.json()).then((schwifty) => {\n        if (Object.prototype.hasOwnProperty.call(schwifty, 'error')) {\n          reject('Unable to create the playlist 😔');\n          return;\n        }\n\n        resolve(schwifty);\n      });\n    });\n  });\n}\n\nfunction remove(payload) {\n  return {\n    type: PLAYLIST_REMOVE,\n    payload,\n  };\n}\n\nfunction asyncRemove(id) {\n  return (dispatch, getState) => {\n    const { playlist } = getState();\n    let removeIndex = -1;\n\n    playlist.forEach((p, index) => {\n      if (p.id === id) {\n        removeIndex = index;\n      }\n    });\n\n    dispatch(remove({ index: removeIndex }));\n  };\n}\n\nfunction edit(payload) {\n  return {\n    type: PLAYLIST_EDIT,\n    payload,\n  };\n}\n\nfunction asyncEdit(editItem) {\n  return (dispatch, getState) => {\n    const { playlist } = getState();\n    let removeIndex = -1;\n\n    playlist.forEach((p, index) => {\n      if (p.id === editItem.id) {\n        removeIndex = index;\n      }\n    });\n\n    dispatch(remove({\n      index: removeIndex,\n      edit: editItem,\n    }));\n  };\n}\n\nmodule.exports = {\n  add,\n  asyncAdd,\n  remove,\n  asyncRemove,\n  edit,\n  asyncEdit,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/playlist.js","/* global fetch */\n/* eslint no-console: 0 */\n\nimport _ from 'lodash';\n\nimport store from 'App/redux/store.js';\nimport { asyncSearching } from 'App/redux/actions/searching';\n\nfunction search(q) {\n  return new Promise((resolve, reject) => {\n    const { user } = store.getState();\n\n    const words = q.replace(/ {2}|\\?|,|!/g, '').split(/!| |\\?/).map(term => term.trim());\n\n    store.dispatch(asyncSearching(true));\n    Promise.all(words.map(word => fetch(`https://api.spotify.com/v1/search?limit=50&q=\"${encodeURIComponent(word)}\"&type=track`, {\n      headers: {\n        Authorization: `${user.token.token_type} ${user.token.access_token}`,\n      },\n    }).then(response => response.json()))).then((results) => {\n      store.dispatch(asyncSearching(false));\n\n      const error = results.filter(result => Object.prototype.hasOwnProperty.call(result, 'error'));\n      if (error.length > 0) {\n        reject(\"For some reason Spotify doesn't like the word 'the'\");\n        return;\n      }\n\n      /**\n       * now that all words have been resolved, comes the difficult part,\n       * with the use of `startsWith`, `endsWith` & `includes` I'm going to try to build the playlist\n       */\n\n      // step 1\n      // go though first word and filter tracks that start with the first word\n      // the first word is very important\n      // const starterTracks = results[0].tracks.items.filter(track => track.name.toLowerCase().startsWith(words[0].toLowerCase()));\n      const starterTracks = results.map((result, index) => result.tracks.items.filter(track => track.name.toLowerCase().startsWith(words[index].toLowerCase())));\n      console.log('starter:', starterTracks);\n\n      // step 2\n      // going through the rest of the words and filtering out tracks that include the word\n      // because Spotify sometimes returns album matches\n      const includeTracks = results.map((result, index) => result.tracks.items.filter(track => track.name.toLowerCase().includes(words[index].toLowerCase())));\n      console.log('include:', includeTracks);\n\n      // step 3\n      // building 100% match list\n      // this will be used to ID which words should be concatenated\n      const fullMatchs = results.map((result, index) => result.tracks.items.filter(track => track.name.toLowerCase() === words[index].toLowerCase())[0] || null);\n      console.log('full match:', fullMatchs);\n\n      // step 4\n      // checking for rare case of 100% match\n      if (fullMatchs.filter(match => match === null).length === 0) {\n        console.log('we have a full match! 🙌🏿');\n        resolve(fullMatchs);\n        return;\n      }\n\n      // step 5\n      // concatenation begins...far far away...DONKEY!\n      // non-full match indexes will be replaced with starter and includes\n      const starterIncludeList = fullMatchs.map((fullMatch, index) => {\n        if (fullMatch !== null) {\n          return fullMatch;\n        }\n\n        return starterTracks[index] || includeTracks[index];\n      });\n      console.log('concat:', starterIncludeList);\n\n      // step 6\n      // going through arrays and criss-crossing to find neighborhood match\n      // CRISS-CROSS!!!\n      const crissCross = starterIncludeList.map((list, index) => {\n        if (Array.isArray(list) === false) {\n          return list;\n        }\n\n        // looking +- one index and looking for include\n        const wordPrevious = [words[index - 1] || '', words[index]].join(' ').toLowerCase();\n        const wordNext = [words[index], words[index + 1] || ''].join(' ').toLowerCase();\n\n        return {\n          previous: words[index - 1] ? list.filter(track => track.name.toLowerCase().includes(wordPrevious)) : [],\n          self: list,\n          next: words[index + 1] ? list.filter(track => track.name.toLowerCase().includes(wordNext)) : [],\n        };\n      });\n\n      console.log('criss-cross:', crissCross);\n\n      // step 7\n      // criss-crossed list ordering\n      const crissCrossSorted = crissCross.map((list, index) => {\n        if (Object.prototype.hasOwnProperty.call(list, 'next') === false) {\n          return list;\n        }\n\n        return {\n          previous: _.reverse(_.sortBy(list.previous, [item => item.name.length - (words[index - 1] || 0)]))[0] || null,\n          self: _.sortBy(list.self, [item => item.name.length - words[index].length])[0] || null,\n          next: _.reverse(_.sortBy(list.next, [item => item.name.length - (words[index + 1] || 0)]))[0] || null,\n        };\n      });\n\n      console.log('criss-cross sorted:', crissCrossSorted);\n\n      // step 8\n      // decision maker 😱\n      // full-matches are kept unless previous or next criss-cross is a full match\n      // this is the part where you fix your face --- final is going to be mutated\n      const final = [];\n\n      crissCrossSorted.forEach((item, index) => {\n        if (final[index] === null) {\n          return;\n        }\n\n        // full match\n        if (Object.prototype.hasOwnProperty.call(item, 'self') === false) {\n          const nextItem = crissCrossSorted[index + 1];\n\n          if (nextItem === undefined) {\n            final[index] = item;\n            return;\n          }\n\n          // next item is also a full match\n          if (Object.prototype.hasOwnProperty.call(nextItem, 'self') === false) {\n            final[index] = item;\n            return;\n          }\n\n          // next previous item has no CRISS-CORSS\n          if (nextItem.previous === null) {\n            final[index] = item;\n            return;\n          }\n\n          // next previous item is a full match\n          if (nextItem.previous.name.toLowerCase().startsWith(`${item.name.toLowerCase()} ${words[index].toLowerCase()}`)) {\n            final[index] = null;\n            return;\n          }\n\n          final[index] = item;\n          return;\n        }\n\n        if (item.next !== null) {\n          if (item.next.name.toLowerCase().startsWith(`${words[index]} ${words[index + 1]}`.toLowerCase())) {\n            final[index] = item.next;\n            final[index + 1] = null;\n            return;\n          }\n        }\n\n        if (item.previous !== null) {\n          if (item.previous.name.toLowerCase().startsWith(`${words[index - 1]} ${words[index]}`.toLowerCase())) {\n            final[index] = item.previous;\n            final[index - 1] = null;\n            return;\n          }\n        }\n\n        final[index] = item.self;\n      });\n\n      console.log('final:', final.filter(item => item !== null));\n      resolve(final.filter(item => item !== null));\n    }, (err) => {\n      store.dispatch(asyncSearching(false));\n      console.error(err);\n      reject(err);\n    });\n  });\n}\n\nmodule.exports = {\n  search,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/search.js","/* global document */\n\nimport anime from 'animejs';\nimport { SEARCHING } from 'App/redux/constants/searching.js';\n\nfunction searching(payload) {\n  return {\n    type: SEARCHING,\n    payload,\n  };\n}\n\nfunction asyncSearching(payload) {\n  return (dispatch, getState) => {\n    if (payload === getState().searching) {\n      return;\n    }\n\n    if (payload === true) {\n      document.querySelector('#search-button').setAttribute('disabled', 'disabled');\n      document.querySelector('#create-playlist').setAttribute('disabled', 'disabled');\n      document.querySelector('#schwifty-411').innerHTML = 'Getting Schwifty...';\n\n      // clearing match list...\n      if (document.querySelectorAll('.track-list .track').length > 0) {\n        anime({\n          targets: '.track-list .track',\n          translateY: ['0vh', '100vh'],\n          delay: (el, i) => i * 100,\n        });\n      }\n    } else {\n      document.querySelector('#search-button').removeAttribute('disabled');\n      document.querySelector('#create-playlist').removeAttribute('disabled');\n      document.querySelector('#schwifty-411').innerHTML = '';\n    }\n\n    dispatch(searching(payload));\n  };\n}\n\nmodule.exports = {\n  searching,\n  asyncSearching,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/searching.js","/* global window, document, fetch */\n/* eslint no-console: 0 */\n\nimport localforage from 'localforage';\n\nimport { ME, TOKEN } from 'App/redux/constants/user';\nimport { LF_STORE } from 'App/config/localforage';\nimport { CLIENT_ID, REDIRECT_URI, SCOPE } from 'App/config/spotify';\nimport hashParams from 'App/js/hashParams';\n\nfunction userToken(payload) {\n  return {\n    type: TOKEN,\n    payload,\n  };\n}\n\nfunction userMe(payload) {\n  return {\n    type: ME,\n    payload,\n  };\n}\n\n/**\n * redirects to Spotify for authorization\n */\nfunction authorizeSpotify() {\n  const state = `${Date.now()}`;\n  const url = `https://accounts.spotify.com/authorize?response_type=token&client_id=${encodeURIComponent(CLIENT_ID)}&scope=${encodeURIComponent(SCOPE)}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&state=${encodeURIComponent(state)}`;\n  window.location = url;\n}\n\n/**\n * clears everything, triggers reload to origin\n */\nfunction logout() {\n  localforage.clear();\n  window.location = window.location.origin;\n}\n\n/**\n * looks for location.hash > localforage\n *\n * @return {Promise}\n */\nfunction asyncUserIsLoggedIn() {\n  return dispatch => new Promise((resolve, reject) => {\n    const HASH_PARAMS = hashParams(window.location.hash);\n\n    const me = async (token) => {\n      // getting me...\n      try {\n        const moi = await fetch('https://api.spotify.com/v1/me', {\n          headers: {\n            Authorization: `${token.token_type} ${token.access_token}`,\n          },\n        }).then(response => response.json());\n\n        localforage.setItem(LF_STORE.TOKEN, token);\n        localforage.setItem(LF_STORE.ME, moi);\n\n        document.querySelector('#profile-username').innerHTML = moi.id;\n        if (moi.images.length > 0) {\n          document.querySelector('#profile-image').setAttribute('src', moi.images[0].url);\n        }\n\n        dispatch(userToken(token));\n        dispatch(userMe(moi));\n        resolve();\n      } catch (e) {\n        // clearing any previously set values inside LF...\n        localforage.removeItem(LF_STORE.TOKEN);\n        localforage.removeItem(LF_STORE.ME);\n        dispatch(userToken(null));\n        dispatch(userMe(null));\n        reject();\n      }\n    };\n\n    // we have token on the url, verifying...\n    if (Object.prototype.hasOwnProperty.call(HASH_PARAMS, 'access_token')) {\n      localforage\n        .setItem(LF_STORE.TOKEN, HASH_PARAMS)\n        .then((lfToken) => {\n          me(lfToken);\n        }, (err) => {\n          console.warn('Unable to set lfToken', err);\n          reject();\n        });\n\n      return;\n    }\n\n    // we have no token on the URL, checking inside LF...\n    localforage\n      .getItem(LF_STORE.TOKEN)\n      .then((lfToken) => {\n        // no token inside LF\n        if (lfToken === null) {\n          reject();\n          return;\n        }\n\n        me(lfToken);\n      });\n  });\n}\n\nmodule.exports = {\n  userToken,\n  userMe,\n  asyncUserIsLoggedIn,\n  authorizeSpotify,\n  logout,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/user.js","import { MATCH } from 'App/redux/constants/match';\n\nfunction reducer(state = [], action) {\n  switch (action.type) {\n    case MATCH:\n      return action.payload;\n\n    default:\n      return state;\n  }\n}\n\nmodule.exports = reducer;\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/reducers/match.js","import { PLAYLIST_ADD, PLAYLIST_REMOVE, PLAYLIST_EDIT } from 'App/redux/constants/playlist';\n\nfunction reducer(state = [], action) {\n  switch (action.type) {\n    case PLAYLIST_ADD:\n      return [Object.assign({}, action.payload), ...state];\n\n    case PLAYLIST_EDIT:\n      return [\n        ...state.slice(0, action.payload.index),\n        Object.assign({}, state[action.payload.index], action.payload.edit),\n        ...state.slice(action.payload.index + 1),\n      ];\n\n    case PLAYLIST_REMOVE:\n      return [\n        ...state.slice(0, action.payload.index),\n        ...state.slice(action.payload.index + 1),\n      ];\n\n    default:\n      return state;\n  }\n}\n\nmodule.exports = reducer;\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/reducers/playlist.js","import { SEARCHING } from 'App/redux/constants/searching.js';\n\nfunction reducer(state = false, action) {\n  switch (action.type) {\n    case SEARCHING:\n      return action.payload;\n\n    default:\n      return state;\n  }\n}\n\nmodule.exports = reducer;\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/reducers/searching.js","import { ME, TOKEN } from 'App/redux/constants/user.js';\n\nfunction reducer(state = { me: null, token: null }, action) {\n  switch (action.type) {\n    case ME:\n      return Object.assign({}, state, { me: action.payload });\n\n    case TOKEN:\n      return Object.assign({}, state, { token: action.payload });\n\n    default:\n      return state;\n  }\n}\n\nmodule.exports = reducer;\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/reducers/user.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/normalize.css/normalize.css\n// module id = 33\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/notie/dist/notie.min.css\n// module id = 34\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/sass/schwifty.scss\n// module id = 35\n// module chunks = 0"],"sourceRoot":""}